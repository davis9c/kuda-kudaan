version: "3.8"

services:
    web:
        build:
            context: .
            dockerfile: Dockerfile
        ports:
            - "80:80"
        container_name: knight-tour-app
        restart: unless-stopped
        environment:
            - TZ=UTC
        # Optional: for local development with volume mount
        # volumes:
        #   - ./index.html:/usr/share/nginx/html/index.html:ro
        healthcheck:
            test:
                [
                    "CMD",
                    "wget",
                    "--quiet",
                    "--tries=1",
                    "--spider",
                    "http://localhost/health",
                ]
            interval: 30s
            timeout: 10s
            retries: 3
            start_period: 10s
